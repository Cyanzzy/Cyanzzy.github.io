---
title: 利用Hexo搭建博客
date: 2023-02-12 10:02:00
update: 2023-02-12 10:02:00
---



> 前言：
>
> 基于Hexo+Github搭建的博客教程
>
> 工具：
>
> * Node.js
> * Git
> * [Hexo](https://hexo.io/)

# 1 初始化博客

新建`blog`文件夹，进入文件夹，` Git Bash Here `

```bash
# 安装 hexo 框架
npm install -g hexo-cli
# 初始化文件夹
hexo init
# 安装 hexo 依赖包
npm install
```

博客框架搭建完成后，继续执行

```bash
# 生成静态网站
hexo g
# 启动服务器
hexo s
```

# 2 美化主题

 [themes](https://hexo.io/themes/) 

在 Hexo 博客根目录(..\blog)下，右键，选择`Git Bash Here`，执行下面命令： 

```bash
git clone https://github.com/wizardforcel/hexo-theme-cyanstyle.git themes/cyanstyle
```

 打开博客根目录下的 _config.yml，找到`theme`标签，默认值是`landscape`主题，把它改为要更换的主题名字`cyanstyle`，然后执行启动命令。 

```yml
# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: cyanstyle
```

```bash
# 清理 && 生成 && 启动
hexo clean && hexo g && hexo s
```

## cyanstyle

>  安装

```
git clone https://github.com/wizardforcel/hexo-theme-cyanstyle.git themes/cyanstyle
```

修改 Hexo 的 `_config.yml` 中的 `theme` 为 `cyanstyle`。

>  升级

```
cd themes/cyanstyle
git pull
```

>  配置

默认的`_config.yml`文件：

```
# Header
menu:
  Home: /
  Archives: /archives

# Content
excerpt_link: More
prev: Prev
next: Next
reply: Reply
share: Share
fancybox: true

# Sidebar
widgets:
- search
- music
- category
- recent_posts
- tag
- tagcloud

# Miscellaneous
google_analytics:
duoshuo_shortname: 
rss: 
google_site_verification: 
baidu_site_verification: 
favicon: 
music: 
```

- `menu` - 导航栏的菜单，键值对形式，键为文字，值为连接
- `widgets` - 侧栏上的小工具，一行一个
- `duoshuo_shortname` - 站点的多说ID，可选
- `fancybox` - 是否开启 jQuery 弹出层效果
- `google_analytics` - Google Analytics ID ，可选
- `rss` - rss 订阅链接，可选
- `google_site_verification` - 用于谷歌站长工具验证所有权的ID，可选
- `baidu_site_verification` - 用于百度站长工具验证所有权的ID，可选
- `favicon` - 用于在浏览器标签上显示的图标，可选，如果不指定则会加载默认图标
- `music` - 侧栏上的播放器音乐，如果不指定音乐组件将不会显示

## ayer

```bash
# 下载主题仓库到 themes 文件夹， git clone <仓库地址> themes/<主题名> 
git clone https://github.com/Shen-Yu/hexo-theme-ayer.git themes/ayer
```

更新主题

```bash
# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: ayer
```

清理  生成  启动 

```bash
# 清理 && 生成 && 启动
hexo clean && hexo g && hexo s
```

 修改博客基本信息

```yml
# Site
title: NetTree
subtitle: ''
description: ''
keywords:
author: Cyan Chau
language: en
timezone: ''
```

打开 **ayer** 主题的`主题配置文件; 修改第 2 ~ 10行，关掉不需要的侧边栏。

```yml
menu:
  主页: /
  归档: /archives
  分类: /categories
  标签: /tags
 # 旅行: /tags/旅行/
 # 摄影: http://shenyu-vip.lofter.com
 # 友链: /friends
  关于我: /2023/about
```

 修改第 14 ~ 18行，自定义首页滚动显示的标题。 

```yml
subtitle:
  enable: true # 是否开启动效
  text: Welcome to NetTree
  text2: It's OK to be yourself, why care about the opinions of others.
  text3: I have the good heart of the Xi, although nine still not regret.
```

修改第 26 ~ 27行，修改网站图标和侧边栏logo。只需要把自己的图标文件按覆盖原来的文件，完整目录为‪\blog\themes\ayer\source\favicon.ico。

```yml
# 浏览器标签栏显示图标
favicon: /favicon.ico 
# 首页侧边栏图标
logo: /favicon.ico
```

修改封面

```yml
cover:
  enable: true
  path: /images/cover8.jpg
  logo: false
```

 第 125 行，关闭右上角的 GitHub forkme 

```yml
github:
  # (关闭请设置为false)
  enable: false
  url: https://github.com/Shen-Yu/hexo-theme-ayer
```

 第 83 行，关闭打赏 

```yml
reward_type: 0
```

 改完后，执行`hexo g && hexo s`，刷新网页看下效果：  改完后，执行`hexo g && hexo s`，刷新网页看下效果： 

## Butterfly

> 安装主题

```bash
npm i hexo-theme-butterfly
```

> 主题修改成

```yml
# Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: butterfly
```

> 安装pug和stylus渲染器（butterfly依赖）

```bash
npm install hexo-renderer-pug hexo-renderer-stylus --save
```

> 将_config.yml复制一份重命名为 _config.butterfly.yml

> 执行命令，使VSCode能在终端执行程序脚本（以管理员身份运行）

```bash
get-ExecutionPolicy # 显示Restricted 禁止
set-ExecutionPolicy RemoteSigned
get-ExecutionPolicy # 显示RemoteSigned 解禁
```



# 3 撰写文章

> 新建文章

在博客根目录下右键，选择`Git Bash Here`，输入下面命令

```bash
hexo new "博客搭建教程"
```

此时先 Ctrl + C 停止服务器，执行`hexo g && hexo s`重新部署，刷新`http://localhost:4000/`，可以看到博客上多了一篇文章。 

> 修改模板

---

title: 博客搭建教程
date: 2023-02-11 17:59:39
tags:

---

这就需要修改根目录配置文件(‪\blog\_config.yml)的`new_post_name`参数了，其中year month day 分别表示创建文章的年月日，这样，再新建文章时，文件名将会自动加上年月日信息，便于通过日期来管理文章。当然，这个时间后面也是可以修改的。

```bash
new_post_name: :year-:month-:day-:title.md
```

此时先 Ctrl + C 停止服务器，执行`hexo g && hexo s`重新部署，刷新`http://localhost:4000/`，看看效果。 

# 4 发布博客

新建`Cyanzzy.github.io `仓库

## 配置 Git 参数

在博客根目录下，右键，打开Git Bash Here。

配置用户名和邮箱，这两个参数用于 Git 提交时的身份识别。

```bash
# 其中 username 和 username@XXX.com 是你注册 GitHub 的用户名和邮箱
git config --global user.name "username"
git config --global user.email "username@XXX.com"
```

 生成 SSH keys，主要用于Git 提交时的权限控制和加密，本地根据 RSA 算法生成公私密钥对，然后将公钥添加到 GitHub 上，本机就可以提交代码到自己的 GitHub 库了。这个是根据当前使用的电脑的一些信息生成的，所以换电脑提交时要重新生成并添加 

输入下面命令，然后一直按回车，直到结束。

```bash
# 其中 username@XXX.com 是你注册 GitHub 的邮箱
ssh-keygen -t rsa -C "username@XXX.com"
```

 开自己的 Github 主页，点击右上角的头像，点击Settings,配置SSH公钥 

## 安装 Hexo 发布插件

在博客根目录下，右键，打开Git Bash Here。

输入下面的命令，安装`hexo-deployer-git`

个插件用于把生成好的静态页面上传到 GitHub Pages 仓库。

```shell
npm install hexo-deployer-git --save
```

## 准备发布

打开博客根目录配置文件(D:\MyBlog\_config.yaml)，拉到文件最后一行，修改为下面的配置（没有的配置项自行添加），保存。

```bash
# 其中 xxxxxx 是前面多次用到的你的GitHub用户名
deploy:
  type: git
  repository: git@github.com:xxxxxx/xxxxxx.github.io.git
  branch: main
```

执行命令

```bash
# 注意最后变成d了，原来的s表示服务起在本地，现在的d表示部署在远端
# hexo g && hexo d
hexo clean && hexo generate && hexo deploy
```

# 5 Vercel部署

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/blog-20230211-01.png)

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/blog-20230211-02.png)

![](https://cyan-images.oss-cn-shanghai.aliyuncs.com/images/blog-20230211-03.png)

点击`View Domains`，输入购买的域名

...



将域名绑定到`url`

```yml
# URL
## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'
url: https://Cyanzzy.github.io
permalink: :year/:month/:day/:title/
```



# 参考文章

[从零开始免费搭建自己的博客(一)——本地搭建hexo框架](https://blog.csdn.net/yushuaigee/article/details/111465155)

[第2期：Vercel部署并绑定自定义域名+安装Butterfly主题](https://www.bilibili.com/video/BV1Ke4y1v7Qr)